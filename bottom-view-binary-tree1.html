<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bottom View of Binary Tree Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #FFFFFF;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            color: #000000;
            text-align: center;
        }
        
        .container {
            width: 800px;
            height: 500px;
            position: relative;
            margin: 20px auto;
            overflow: hidden;
        }
        
        .slide {
            width: 100%;
            height: 100%;
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .slide.active {
            display: block;
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        button {
            background-color: #FF4800;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #FD9F78;
        }
        
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .node {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: absolute;
            font-weight: bold;
            transition: all 0.5s ease;
        }
        
        .node-normal {
            background-color: #FD9F78;
            color: #000000;
            border: 2px solid #FF4800;
        }
        
        .node-highlight {
            background-color: #FF4800;
            color: #FFFFFF;
            border: 2px solid #000000;
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        
        .tree-container {
            position: relative;
            width: 100%;
            height: 300px;
            margin-top: 50px;
        }
        
        .edge {
            position: absolute;
            background-color: #000000;
            height: 2px;
            transform-origin: 0 0;
        }
        
        .explanation {
            margin-top: 30px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
            border-left: 4px solid #FF4800;
        }
        
        .horizontal-line {
            position: absolute;
            top: 350px;
            width: 100%;
            height: 2px;
            background-color: #000000;
        }
        
        .distance-marker {
            position: absolute;
            top: 360px;
            transform: translateX(-50%);
            font-weight: bold;
            color: #000000;
        }
        
        .bottom-view-container {
            position: absolute;
            top: 400px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 80px;
        }
        
        .bottom-node {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin: 0 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            background-color: #FF4800;
            color: #FFFFFF;
            border: 2px solid #000000;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .distance-label {
            position: absolute;
            font-size: 12px;
            color: #000000;
            transition: all 0.5s ease;
            opacity: 0;
        }
    </style>
</head>
<body>
    <h1>Bottom View of Binary Tree</h1>
    
    <div class="container">
        <!-- Slide 1 -->
        <div class="slide active">
            <h2>Introduction to Bottom View</h2>
            <div class="explanation">
                <p>The <strong>Bottom View</strong> of a binary tree is the set of nodes visible when the tree is viewed from the bottom.</p>
                <p>For each vertical column, we select the node that appears last (at the lowest level) when the tree is viewed from the bottom.</p>
            </div>
            <div class="tree-container">
                <div id="node1" class="node node-normal" style="top: 0px; left: 375px;">1</div>
                <div id="node2" class="node node-normal" style="top: 80px; left: 300px;">2</div>
                <div id="node3" class="node node-normal" style="top: 80px; left: 450px;">3</div>
                <div id="node4" class="node node-normal" style="top: 160px; left: 225px;">4</div>
                <div id="node5" class="node node-normal" style="top: 160px; left: 375px;">5</div>
                <div id="node6" class="node node-normal" style="top: 160px; left: 450px;">6</div>
                <div id="node7" class="node node-normal" style="top: 160px; left: 525px;">7</div>
                
                <!-- Edges connecting the nodes -->
                <div id="edge1-2" class="edge"></div>
                <div id="edge1-3" class="edge"></div>
                <div id="edge2-4" class="edge"></div>
                <div id="edge2-5" class="edge"></div>
                <div id="edge3-6" class="edge"></div>
                <div id="edge3-7" class="edge"></div>
            </div>
        </div>
        
        <!-- Slide 2 -->
        <div class="slide">
            <h2>Horizontal Distance Concept</h2>
            <div class="explanation">
                <p>To find the bottom view, we assign a <strong>horizontal distance</strong> to each node:</p>
                <ul>
                    <li>Root node is at distance 0</li>
                    <li>Left child is at (parent's distance - 1)</li>
                    <li>Right child is at (parent's distance + 1)</li>
                </ul>
            </div>
            <div class="tree-container">
                <div id="node1-hd" class="node node-normal" style="top: 0px; left: 375px;">1</div>
                <div id="node2-hd" class="node node-normal" style="top: 80px; left: 300px;">2</div>
                <div id="node3-hd" class="node node-normal" style="top: 80px; left: 450px;">3</div>
                <div id="node4-hd" class="node node-normal" style="top: 160px; left: 225px;">4</div>
                <div id="node5-hd" class="node node-normal" style="top: 160px; left: 375px;">5</div>
                <div id="node6-hd" class="node node-normal" style="top: 160px; left: 450px;">6</div>
                <div id="node7-hd" class="node node-normal" style="top: 160px; left: 525px;">7</div>
                
                <!-- Horizontal distance labels -->
                <div id="hd1" class="distance-label" style="top: 5px; left: 435px;">HD: 0</div>
                <div id="hd2" class="distance-label" style="top: 85px; left: 360px;">HD: -1</div>
                <div id="hd3" class="distance-label" style="top: 85px; left: 510px;">HD: 1</div>
                <div id="hd4" class="distance-label" style="top: 165px; left: 285px;">HD: -2</div>
                <div id="hd5" class="distance-label" style="top: 165px; left: 435px;">HD: 0</div>
                <div id="hd6" class="distance-label" style="top: 165px; left: 510px;">HD: 1</div>
                <div id="hd7" class="distance-label" style="top: 165px; left: 585px;">HD: 2</div>
                
                <!-- Edges connecting the nodes -->
                <div id="edge1-2-hd" class="edge"></div>
                <div id="edge1-3-hd" class="edge"></div>
                <div id="edge2-4-hd" class="edge"></div>
                <div id="edge2-5-hd" class="edge"></div>
                <div id="edge3-6-hd" class="edge"></div>
                <div id="edge3-7-hd" class="edge"></div>
            </div>
            
            <div class="horizontal-line"></div>
            <div class="distance-marker" style="left: 225px;">-2</div>
            <div class="distance-marker" style="left: 300px;">-1</div>
            <div class="distance-marker" style="left: 375px;">0</div>
            <div class="distance-marker" style="left: 450px;">1</div>
            <div class="distance-marker" style="left: 525px;">2</div>
        </div>
        
        <!-- Slide 3 -->
        <div class="slide">
            <h2>Finding the Bottom View</h2>
            <div class="explanation">
                <p>For each horizontal distance, the <strong>bottom-most node</strong> will be part of the bottom view.</p>
                <p>We examine all nodes level by level, and for each horizontal distance, we keep updating the node until we reach the bottom.</p>
            </div>
            <div class="tree-container">
                <div id="node1-bv" class="node node-normal" style="top: 0px; left: 375px;">1</div>
                <div id="node2-bv" class="node node-normal" style="top: 80px; left: 300px;">2</div>
                <div id="node3-bv" class="node node-normal" style="top: 80px; left: 450px;">3</div>
                <div id="node4-bv" class="node node-highlight" style="top: 160px; left: 225px;">4</div>
                <div id="node5-bv" class="node node-normal" style="top: 160px; left: 375px;">5</div>
                <div id="node6-bv" class="node node-normal" style="top: 160px; left: 450px;">6</div>
                <div id="node7-bv" class="node node-highlight" style="top: 160px; left: 525px;">7</div>
                
                <!-- Horizontal distance labels -->
                <div id="hd1-bv" class="distance-label" style="top: 5px; left: 435px; opacity: 1;">HD: 0</div>
                <div id="hd2-bv" class="distance-label" style="top: 85px; left: 360px; opacity: 1;">HD: -1</div>
                <div id="hd3-bv" class="distance-label" style="top: 85px; left: 510px; opacity: 1;">HD: 1</div>
                <div id="hd4-bv" class="distance-label" style="top: 165px; left: 285px; opacity: 1;">HD: -2</div>
                <div id="hd5-bv" class="distance-label" style="top: 165px; left: 435px; opacity: 1;">HD: 0</div>
                <div id="hd6-bv" class="distance-label" style="top: 165px; left: 510px; opacity: 1;">HD: 1</div>
                <div id="hd7-bv" class="distance-label" style="top: 165px; left: 585px; opacity: 1;">HD: 2</div>
                
                <!-- Edges connecting the nodes -->
                <div id="edge1-2-bv" class="edge"></div>
                <div id="edge1-3-bv" class="edge"></div>
                <div id="edge2-4-bv" class="edge"></div>
                <div id="edge2-5-bv" class="edge"></div>
                <div id="edge3-6-bv" class="edge"></div>
                <div id="edge3-7-bv" class="edge"></div>
            </div>
            
            <div class="horizontal-line"></div>
            <div class="distance-marker" style="left: 225px;">-2</div>
            <div class="distance-marker" style="left: 300px;">-1</div>
            <div class="distance-marker" style="left: 375px;">0</div>
            <div class="distance-marker" style="left: 450px;">1</div>
            <div class="distance-marker" style="left: 525px;">2</div>
        </div>
        
        <!-- Slide 4 -->
        <div class="slide">
            <h2>Complete Bottom View</h2>
            <div class="explanation">
                <p>The final <strong>Bottom View</strong> contains the bottom-most nodes at each horizontal distance.</p>
                <p>Reading from left to right (increasing horizontal distance): <strong>4, 2, 5, 3, 7</strong></p>
            </div>
            <div class="tree-container">
                <div id="node1-final" class="node node-normal" style="top: 0px; left: 375px;">1</div>
                <div id="node2-final" class="node node-highlight" style="top: 80px; left: 300px;">2</div>
                <div id="node3-final" class="node node-highlight" style="top: 80px; left: 450px;">3</div>
                <div id="node4-final" class="node node-highlight" style="top: 160px; left: 225px;">4</div>
                <div id="node5-final" class="node node-highlight" style="top: 160px; left: 375px;">5</div>
                <div id="node6-final" class="node node-normal" style="top: 160px; left: 450px;">6</div>
                <div id="node7-final" class="node node-highlight" style="top: 160px; left: 525px;">7</div>
                
                <!-- Horizontal distance labels -->
                <div id="hd1-final" class="distance-label" style="top: 5px; left: 435px; opacity: 1;">HD: 0</div>
                <div id="hd2-final" class="distance-label" style="top: 85px; left: 360px; opacity: 1;">HD: -1</div>
                <div id="hd3-final" class="distance-label" style="top: 85px; left: 510px; opacity: 1;">HD: 1</div>
                <div id="hd4-final" class="distance-label" style="top: 165px; left: 285px; opacity: 1;">HD: -2</div>
                <div id="hd5-final" class="distance-label" style="top: 165px; left: 435px; opacity: 1;">HD: 0</div>
                <div id="hd6-final" class="distance-label" style="top: 165px; left: 510px; opacity: 1;">HD: 1</div>
                <div id="hd7-final" class="distance-label" style="top: 165px; left: 585px; opacity: 1;">HD: 2</div>
                
                <!-- Edges connecting the nodes -->
                <div id="edge1-2-final" class="edge"></div>
                <div id="edge1-3-final" class="edge"></div>
                <div id="edge2-4-final" class="edge"></div>
                <div id="edge2-5-final" class="edge"></div>
                <div id="edge3-6-final" class="edge"></div>
                <div id="edge3-7-final" class="edge"></div>
            </div>
            
            <div class="horizontal-line"></div>
            <div class="distance-marker" style="left: 225px;">-2</div>
            <div class="distance-marker" style="left: 300px;">-1</div>
            <div class="distance-marker" style="left: 375px;">0</div>
            <div class="distance-marker" style="left: 450px;">1</div>
            <div class="distance-marker" style="left: 525px;">2</div>
            
            <div class="bottom-view-container">
                <div class="bottom-node" style="opacity: 1;">4</div>
                <div class="bottom-node" style="opacity: 1;">2</div>
                <div class="bottom-node" style="opacity: 1;">5</div>
                <div class="bottom-node" style="opacity: 1;">3</div>
                <div class="bottom-node" style="opacity: 1;">7</div>
            </div>
        </div>
    </div>
    
    <div class="navigation">
        <button id="prevBtn" disabled>Previous</button>
        <button id="nextBtn">Next</button>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get the necessary elements
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            let currentSlide = 0;
            
            // Draw edges for all tree visualizations
            drawEdges();
            
            // Add event listeners for navigation buttons
            prevBtn.addEventListener('click', function() {
                showSlide(currentSlide - 1);
            });
            
            nextBtn.addEventListener('click', function() {
                showSlide(currentSlide + 1);
            });
            
            // Function to show a specific slide
            function showSlide(slideIndex) {
                // Hide current slide
                slides[currentSlide].classList.remove('active');
                
                // Update slide index
                currentSlide = slideIndex;
                
                // Show the new slide
                slides[currentSlide].classList.add('active');
                
                // Update button states
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === slides.length - 1;
                
                // If we're on slide 2, animate the horizontal distances
                if (currentSlide === 1) {
                    animateHorizontalDistances();
                }
                
                // Redraw edges for the current slide
                drawEdges();
            }
            
            // Function to draw edges connecting the nodes
            function drawEdges() {
                drawEdge('edge1-2', 'node1', 'node2');
                drawEdge('edge1-3', 'node1', 'node3');
                drawEdge('edge2-4', 'node2', 'node4');
                drawEdge('edge2-5', 'node2', 'node5');
                drawEdge('edge3-6', 'node3', 'node6');
                drawEdge('edge3-7', 'node3', 'node7');
                
                drawEdge('edge1-2-hd', 'node1-hd', 'node2-hd');
                drawEdge('edge1-3-hd', 'node1-hd', 'node3-hd');
                drawEdge('edge2-4-hd', 'node2-hd', 'node4-hd');
                drawEdge('edge2-5-hd', 'node2-hd', 'node5-hd');
                drawEdge('edge3-6-hd', 'node3-hd', 'node6-hd');
                drawEdge('edge3-7-hd', 'node3-hd', 'node7-hd');
                
                drawEdge('edge1-2-bv', 'node1-bv', 'node2-bv');
                drawEdge('edge1-3-bv', 'node1-bv', 'node3-bv');
                drawEdge('edge2-4-bv', 'node2-bv', 'node4-bv');
                drawEdge('edge2-5-bv', 'node2-bv', 'node5-bv');
                drawEdge('edge3-6-bv', 'node3-bv', 'node6-bv');
                drawEdge('edge3-7-bv', 'node3-bv', 'node7-bv');
                
                drawEdge('edge1-2-final', 'node1-final', 'node2-final');
                drawEdge('edge1-3-final', 'node1-final', 'node3-final');
                drawEdge('edge2-4-final', 'node2-final', 'node4-final');
                drawEdge('edge2-5-final', 'node2-final', 'node5-final');
                drawEdge('edge3-6-final', 'node3-final', 'node6-final');
                drawEdge('edge3-7-final', 'node3-final', 'node7-final');
            }
            
            // Function to draw an edge between two nodes
            function drawEdge(edgeId, startNodeId, endNodeId) {
                const edge = document.getElementById(edgeId);
                const startNode = document.getElementById(startNodeId);
                const endNode = document.getElementById(endNodeId);
                
                if (!edge || !startNode || !endNode) return;
                
                // Get the center positions of the nodes
                const startRect = startNode.getBoundingClientRect();
                const endRect = endNode.getBoundingClientRect();
                const containerRect = startNode.parentElement.getBoundingClientRect();
                
                const startX = startRect.left - containerRect.left + startRect.width / 2;
                const startY = startRect.top - containerRect.top + startRect.height / 2;
                const endX = endRect.left - containerRect.left + endRect.width / 2;
                const endY = endRect.top - containerRect.top + endRect.height / 2;
                
                // Calculate the length and angle of the edge
                const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
                const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;
                
                // Position and rotate the edge
                edge.style.width = `${length}px`;
                edge.style.left = `${startX}px`;
                edge.style.top = `${startY}px`;
                edge.style.transform = `rotate(${angle}deg)`;
            }
            
            // Function to animate horizontal distances
            function animateHorizontalDistances() {
                const labels = document.querySelectorAll('#hd1, #hd2, #hd3, #hd4, #hd5, #hd6, #hd7');
                
                setTimeout(() => {
                    labels.forEach(label => {
                        label.style.opacity = 1;
                    });
                }, 500);
            }
            
            // Initial draw
            drawEdges();
            
            // Handle window resize
            window.addEventListener('resize', drawEdges);
        });
    </script>
</body>
</html>