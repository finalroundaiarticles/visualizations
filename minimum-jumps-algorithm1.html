<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jump Path Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #FFFFFF;
            color: #000000;
        }
        
        h1 {
            color: #FF4800;
            text-align: center;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .explanation {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .array-container {
            display: flex;
            justify-content: center;
            margin: 40px 0;
            position: relative;
            height: 250px;
        }
        
        .array-element {
            width: 60px;
            height: 60px;
            margin: 0 15px;
            border: 2px solid #FF4800;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            position: relative;
            background-color: #FFFFFF;
            z-index: 2;
        }
        
        .array-element.highlight {
            background-color: #FD9F78;
        }
        
        .array-index {
            position: absolute;
            bottom: -30px;
            font-size: 14px;
            color: #000000;
        }
        
        .jump-arrow {
            position: absolute;
            height: 20px;
            background-color: #FF4800;
            transform-origin: 0 50%;
            z-index: 1;
            border-radius: 2px;
            opacity: 0;
        }
        
        .arrow-head {
            position: absolute;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-left: 15px solid #FF4800;
            right: -15px;
            top: -0px;
        }
        
        .jump-range {
            position: absolute;
            height: 5px;
            background-color: #FD9F78;
            top: 100px;
            transform-origin: 0 50%;
            z-index: 1;
            border-radius: 2px;
            opacity: 0;
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            margin-top: 40px;
            gap: 20px;
        }
        
        button {
            padding: 10px 20px;
            background-color: #FF4800;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #FD9F78;
        }
        
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .step-indicator {
            text-align: center;
            margin-top: 20px;
            font-weight: bold;
        }
        
        .explanation-text {
            min-height: 80px;
            padding: 15px;
            border-radius: 8px;
            background-color: #f8f8f8;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Jump Path Visualization</h1>
        
        <div class="explanation">
            <p>In this visualization, we'll explore the Jump Game problem using the array [2,3,1,1,4]. Each number in the array represents the maximum number of steps you can jump forward from that position. The goal is to find if you can reach the last index, and if so, what's the optimal path.</p>
        </div>
        
        <div class="explanation-text" id="currentExplanation">
            Welcome to the Jump Path visualization! Click "Next" to start the animation.
        </div>
        
        <div class="array-container" id="arrayContainer">
            <!-- Array elements will be generated by JavaScript -->
        </div>
        
        <div class="step-indicator" id="stepIndicator">Step 0/5</div>
        
        <div class="navigation">
            <button id="prevBtn" disabled>Previous</button>
            <button id="nextBtn">Next</button>
        </div>
    </div>

    <script>
        // Array data
        const array = [2, 3, 1, 1, 4];
        
        // Explanations for each step
        const explanations = [
            "Welcome to the Jump Path visualization! This shows the array [2,3,1,1,4] where each number represents the maximum steps you can jump forward from that position.",
            "Let's start at index 0 with value 2. This means you can jump either 1 or 2 positions forward. The optimal choice is to jump 1 position to index 1.",
            "Now we're at index 1 with value 3. From here, you can jump 1, 2, or 3 positions forward. The optimal choice is to jump 3 positions to reach index 4 directly.",
            "We've reached index 4 (the last position) with value 4. Our goal is achieved! The optimal path used 2 jumps: from index 0 to 1, then from index 1 to 4.",
            "The complete optimal path is highlighted. We can reach the end using just 2 jumps, which is the minimum number of jumps needed to reach the end.",
        ];
        
        // Setup variables
        let currentStep = 0;
        const totalSteps = explanations.length;
        
        // DOM elements
        const arrayContainer = document.getElementById('arrayContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const stepIndicator = document.getElementById('stepIndicator');
        const currentExplanation = document.getElementById('currentExplanation');
        
        // Create array elements
        function createArrayElements() {
            arrayContainer.innerHTML = '';
            
            // Calculate element positions
            const elementWidth = 60;
            const margin = 15;
            const containerWidth = (elementWidth + 2*margin) * array.length;
            
            for (let i = 0; i < array.length; i++) {
                // Create the array element
                const element = document.createElement('div');
                element.className = 'array-element';
                element.id = `element-${i}`;
                element.style.left = `${i * (elementWidth + 2*margin) + margin}px`;
                element.textContent = array[i];
                
                // Add index below the element
                const indexLabel = document.createElement('div');
                indexLabel.className = 'array-index';
                indexLabel.textContent = `Index ${i}`;
                element.appendChild(indexLabel);
                
                arrayContainer.appendChild(element);
            }
            
            // Create jump range indicators (initially hidden)
            for (let i = 0; i < array.length; i++) {
                const element = document.getElementById(`element-${i}`);
                const elementRect = element.getBoundingClientRect();
                const containerRect = arrayContainer.getBoundingClientRect();
                
                const jumpRange = document.createElement('div');
                jumpRange.className = 'jump-range';
                jumpRange.id = `jump-range-${i}`;
                
                // Position the jump range
                const startX = i * (elementWidth + 2*margin) + elementWidth/2 + margin;
                const rangeWidth = array[i] * (elementWidth + 2*margin);
                
                jumpRange.style.left = `${startX}px`;
                jumpRange.style.width = `${rangeWidth}px`;
                
                arrayContainer.appendChild(jumpRange);
            }
            
            // Create arrows for the optimal path (initially hidden)
            createJumpArrow(0, 1); // Jump from index 0 to 1
            createJumpArrow(1, 4); // Jump from index 1 to 4
        }
        
        function createJumpArrow(fromIndex, toIndex) {
            const elementWidth = 60;
            const margin = 15;
            
            const arrow = document.createElement('div');
            arrow.className = 'jump-arrow';
            arrow.id = `arrow-${fromIndex}-${toIndex}`;
            
            // Calculate arrow position and dimensions
            const startX = fromIndex * (elementWidth + 2*margin) + elementWidth/2 + margin;
            const endX = toIndex * (elementWidth + 2*margin) + elementWidth/2 + margin;
            const width = endX - startX;
            
            arrow.style.left = `${startX}px`;
            arrow.style.width = `${width}px`;
            arrow.style.top = '70px';
            
            // Add arrow head
            const arrowHead = document.createElement('div');
            arrowHead.className = 'arrow-head';
            arrow.appendChild(arrowHead);
            
            arrayContainer.appendChild(arrow);
        }
        
        // Update visualization based on current step
        function updateVisualization() {
            // Reset all elements
            document.querySelectorAll('.array-element').forEach(el => {
                el.classList.remove('highlight');
            });
            
            document.querySelectorAll('.jump-range').forEach(el => {
                el.style.opacity = '0';
            });
            
            document.querySelectorAll('.jump-arrow').forEach(el => {
                el.style.opacity = '0';
            });
            
            // Update based on current step
            if (currentStep >= 1) {
                document.getElementById('element-0').classList.add('highlight');
                document.getElementById('jump-range-0').style.opacity = '1';
            }
            
            if (currentStep >= 2) {
                document.getElementById('arrow-0-1').style.opacity = '1';
                document.getElementById('element-1').classList.add('highlight');
                document.getElementById('jump-range-1').style.opacity = '1';
            }
            
            if (currentStep >= 3) {
                document.getElementById('arrow-1-4').style.opacity = '1';
                document.getElementById('element-4').classList.add('highlight');
            }
            
            // Update explanation and step indicator
            currentExplanation.textContent = explanations[currentStep];
            stepIndicator.textContent = `Step ${currentStep}/${totalSteps-1}`;
            
            // Update button states
            prevBtn.disabled = currentStep === 0;
            nextBtn.disabled = currentStep === totalSteps - 1;
        }
        
        // Event handlers
        prevBtn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                updateVisualization();
            }
        });
        
        nextBtn.addEventListener('click', () => {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                updateVisualization();
            }
        });
        
        // Initialize
        createArrayElements();
        updateVisualization();
    </script>
</body>
</html>