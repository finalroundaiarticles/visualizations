<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doubly Linked List Reversal</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #FFFFFF;
            color: #000000;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        h1 {
            color: #FF4800;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }

        .explanation {
            background-color: #FD9F78;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            color: #000000;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .visualization-area {
            background-color: #FFFFFF;
            border: 3px solid #FF4800;
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            min-height: 500px;
            position: relative;
        }

        .step-title {
            color: #FF4800;
            font-size: 1.8rem;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .list-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .node {
            width: 80px;
            height: 80px;
            background-color: #FF4800;
            color: #FFFFFF;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0 20px;
            position: relative;
            transition: all 0.5s ease;
            box-shadow: 0 4px 8px rgba(255, 72, 0, 0.3);
        }

        .node.highlight {
            background-color: #FD9F78;
            transform: scale(1.2);
            box-shadow: 0 6px 12px rgba(255, 72, 0, 0.5);
        }

        .arrow {
            display: flex;
            align-items: center;
            margin: 0 10px;
        }

        .arrow-right {
            width: 40px;
            height: 4px;
            background-color: #FF4800;
            position: relative;
            transition: all 0.3s ease;
        }

        .arrow-right::after {
            content: '';
            position: absolute;
            right: -8px;
            top: -6px;
            width: 0;
            height: 0;
            border-left: 14px solid #FF4800;
            border-top: 7px solid transparent;
            border-bottom: 7px solid transparent;
        }

        .arrow-left {
            width: 40px;
            height: 4px;
            background-color: #FD9F78;
            position: relative;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .arrow-left::before {
            content: '';
            position: absolute;
            left: -8px;
            top: -6px;
            width: 0;
            height: 0;
            border-right: 14px solid #FD9F78;
            border-top: 7px solid transparent;
            border-bottom: 7px solid transparent;
        }

        .bidirectional-arrow {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .list-label {
            color: #FF4800;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .nav-btn {
            background-color: #FF4800;
            color: #FFFFFF;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(255, 72, 0, 0.3);
        }

        .nav-btn:hover {
            background-color: #FD9F78;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(255, 72, 0, 0.4);
        }

        .nav-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .step-counter {
            background-color: #FD9F78;
            color: #000000;
            padding: 10px 20px;
            border-radius: 20px;
            margin: 20px 0;
            font-weight: bold;
        }

        .hidden {
            opacity: 0;
            transform: translateY(20px);
        }

        .visible {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.5s ease;
        }

        @media (max-width: 768px) {
            .node {
                width: 60px;
                height: 60px;
                font-size: 1.2rem;
                margin: 0 10px;
            }
            
            .arrow-right, .arrow-left {
                width: 30px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Doubly Linked List Reversal</h1>
        
        <div class="explanation">
            <strong>What is a Doubly Linked List?</strong><br>
            A doubly linked list is a data structure where each node has connections to both the next AND previous nodes. 
            This allows us to traverse the list in both directions! When we reverse it, we swap all the forward and backward connections.
        </div>

        <div class="step-counter">
            <span id="stepCounter">Step 1 of 6</span>
        </div>

        <div class="visualization-area">
            <div id="stepContent">
                <!-- Content will be dynamically inserted here -->
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="previousStep()">← Previous</button>
            <button class="nav-btn" id="nextBtn" onclick="nextStep()">Next →</button>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 6;

        const steps = [
            {
                title: "Original Doubly Linked List",
                content: `
                    <div class="step-title">Step 1: Original Doubly Linked List</div>
                    <div class="list-label">Original List</div>
                    <div class="list-container">
                        <div class="node">1</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">2</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">3</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">4</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">5</div>
                    </div>
                    <p style="color: #000000; font-size: 1.1rem; margin-top: 30px;">
                        Here's our original doubly linked list. Each node connects to its neighbors in both directions.
                        Orange arrows point forward (next), and lighter arrows point backward (previous).
                    </p>
                `
            },
            {
                title: "Understanding the Reversal Process",
                content: `
                    <div class="step-title">Step 2: Understanding the Reversal</div>
                    <div style="color: #000000; font-size: 1.2rem; margin-bottom: 30px;">
                        To reverse a doubly linked list, we need to swap the 'next' and 'previous' pointers for each node.
                    </div>
                    <div class="list-container">
                        <div class="node highlight">1</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">2</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">3</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">4</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">5</div>
                    </div>
                    <p style="color: #000000; font-size: 1.1rem; margin-top: 30px;">
                        We start with the first node (highlighted). For each node, we'll swap its next and previous connections.
                    </p>
                `
            },
            {
                title: "Processing Each Node",
                content: `
                    <div class="step-title">Step 3: Processing Node by Node</div>
                    <div class="list-container">
                        <div class="node">1</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">2</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node highlight">3</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">4</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">5</div>
                    </div>
                    <p style="color: #000000; font-size: 1.1rem; margin-top: 30px;">
                        We continue this process for each node in the list. The highlighted node shows our current position.
                        As we process each node, we swap its pointer directions.
                    </p>
                `
            },
            {
                title: "Midway Through Reversal",
                content: `
                    <div class="step-title">Step 4: Midway Through Reversal</div>
                    <div class="list-container">
                        <div class="node">1</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">2</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">3</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">4</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node highlight">5</div>
                    </div>
                    <p style="color: #000000; font-size: 1.1rem; margin-top: 30px;">
                        We're almost done! We've processed most nodes and are now at the last node.
                        The connections are being reversed as we go through each node.
                    </p>
                `
            },
            {
                title: "Reversal Complete - New Structure",
                content: `
                    <div class="step-title">Step 5: Reversal Process Complete</div>
                    <div style="color: #000000; font-size: 1.1rem; margin-bottom: 20px;">
                        Now we need to update our head pointer to point to what was originally the last node.
                    </div>
                    <div class="list-container">
                        <div class="node">5</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">4</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">3</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">2</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">1</div>
                    </div>
                    <p style="color: #000000; font-size: 1.1rem; margin-top: 30px;">
                        The reversal is complete! The list now flows from 5 to 1, with all bidirectional connections properly reversed.
                    </p>
                `
            },
            {
                title: "Final Comparison",
                content: `
                    <div class="step-title">Step 6: Before and After Comparison</div>
                    
                    <div class="list-label">Original List</div>
                    <div class="list-container">
                        <div class="node">1</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">2</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">3</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">4</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node">5</div>
                    </div>

                    <div style="margin: 40px 0; color: #FF4800; font-size: 2rem; font-weight: bold;">↓</div>

                    <div class="list-label">Reversed List</div>
                    <div class="list-container">
                        <div class="node highlight">5</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node highlight">4</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node highlight">3</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node highlight">2</div>
                        <div class="bidirectional-arrow">
                            <div class="arrow-right"></div>
                            <div class="arrow-left"></div>
                        </div>
                        <div class="node highlight">1</div>
                    </div>

                    <p style="color: #000000; font-size: 1.1rem; margin-top: 30px;">
                        Perfect! We've successfully reversed the doubly linked list. 
                        The order is now 5 → 4 → 3 → 2 → 1, and all bidirectional connections work correctly.
                    </p>
                `
            }
        ];

        function updateStep() {
            const stepContent = document.getElementById('stepContent');
            const stepCounter = document.getElementById('stepCounter');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            stepContent.className = 'hidden';
            
            setTimeout(() => {
                stepContent.innerHTML = steps[currentStep].content;
                stepContent.className = 'visible';
            }, 250);

            stepCounter.textContent = `Step ${currentStep + 1} of ${totalSteps}`;
            
            prevBtn.disabled = currentStep === 0;
            nextBtn.disabled = currentStep === totalSteps - 1;
        }

        function nextStep() {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                updateStep();
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                updateStep();
            }
        }

        // Initialize the visualization
        updateStep();

        // Add keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowRight' || event.key === ' ') {
                event.preventDefault();
                nextStep();
            } else if (event.key === 'ArrowLeft') {
                event.preventDefault();
                previousStep();
            }
        });
    </script>
</body>
</html>