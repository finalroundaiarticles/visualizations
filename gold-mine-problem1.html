<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gold Mine Path Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #FFFFFF;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #000000;
        }
        h1 {
            color: #FF4800;
            text-align: center;
            margin-bottom: 20px;
        }
        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 80px);
            grid-template-rows: repeat(3, 80px);
            gap: 10px;
            margin: 30px auto;
            justify-content: center;
        }
        .cell {
            width: 80px;
            height: 80px;
            background-color: #FD9F78;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            border-radius: 8px;
            position: relative;
            transition: background-color 0.3s ease;
        }
        .cell.highlight {
            background-color: #FF4800;
            color: #FFFFFF;
            animation: pulse 1s infinite alternate;
        }
        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.05); }
        }
        .arrow {
            position: absolute;
            width: 30px;
            height: 30px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .arrow-right {
            right: -25px;
        }
        .arrow-down-right {
            right: -25px;
            bottom: -15px;
        }
        .arrow-up-right {
            right: -25px;
            top: -15px;
        }
        .total-gold {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            color: #FF4800;
            text-align: center;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        button {
            background-color: #FF4800;
            color: #FFFFFF;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #FD9F78;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .explanation {
            margin: 20px 0;
            padding: 15px;
            border: 2px solid #FD9F78;
            border-radius: 8px;
            text-align: center;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Gold Mine Path Visualization</h1>
        
        <div class="explanation" id="explanation">
            Welcome to the Gold Mine Path Visualization! This animation shows how to find the optimal path through a gold mine to collect the maximum amount of gold.
        </div>
        
        <div class="grid-container" id="grid">
            <!-- Grid will be generated by JavaScript -->
        </div>
        
        <div class="total-gold" id="totalGold">Total Gold: 0</div>
        
        <div class="controls">
            <button id="prevBtn" disabled>Previous</button>
            <button id="nextBtn">Next</button>
        </div>
    </div>

    <script>
        const goldValues = [
            [1, 3, 3, 2],
            [2, 1, 4, 9],
            [3, 2, 2, 1]
        ];
        
        // The optimal path (0-indexed)
        const optimalPath = [
            {row: 2, col: 0}, // Start at (3, 1) - row 3, col 1
            {row: 1, col: 1}, // Move to (2, 2)
            {row: 1, col: 2}, // Move to (2, 3)
            {row: 1, col: 3}  // End at (2, 4)
        ];
        
        let currentStep = 0;
        let totalGoldCollected = 0;
        
        // Create the grid
        function createGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 4; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.id = `cell-${i}-${j}`;
                    cell.textContent = goldValues[i][j];
                    
                    // Add arrows for the cells in the optimal path (except the last column)
                    if (j < 3) {
                        // Right arrow
                        const rightArrow = document.createElement('div');
                        rightArrow.className = 'arrow arrow-right';
                        rightArrow.id = `arrow-right-${i}-${j}`;
                        rightArrow.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>`;
                        cell.appendChild(rightArrow);
                        
                        // Down-right arrow
                        const downRightArrow = document.createElement('div');
                        downRightArrow.className = 'arrow arrow-down-right';
                        downRightArrow.id = `arrow-down-right-${i}-${j}`;
                        downRightArrow.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.5 21L3 16.5 4.4 15.1 6.5 17.2 6.5 6.5 17.2 6.5 15.1 4.4 16.5 3 21 7.5 16.5 12 15.1 10.6 17.2 8.5 8.5 8.5 8.5 17.2 10.6 15.1 12 16.5z" transform="rotate(135 12 12)"/></svg>`;
                        cell.appendChild(downRightArrow);
                        
                        // Up-right arrow
                        const upRightArrow = document.createElement('div');
                        upRightArrow.className = 'arrow arrow-up-right';
                        upRightArrow.id = `arrow-up-right-${i}-${j}`;
                        upRightArrow.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.5 21L3 16.5 4.4 15.1 6.5 17.2 6.5 6.5 17.2 6.5 15.1 4.4 16.5 3 21 7.5 16.5 12 15.1 10.6 17.2 8.5 8.5 8.5 8.5 17.2 10.6 15.1 12 16.5z" transform="rotate(45 12 12)"/></svg>`;
                        cell.appendChild(upRightArrow);
                    }
                    
                    grid.appendChild(cell);
                }
            }
        }
        
        // Update the explanation based on the current step
        function updateExplanation() {
            const explanationText = [
                "We start by looking at a gold mine represented as a grid. Each cell contains gold that we can collect. We need to find the path that gives us the maximum gold from the first column to the last column.",
                "We start at position (3,1) with a value of 3. This is our first step in the optimal path. We collect 3 gold.",
                "From position (3,1), we move diagonally up-right to position (2,2) and collect 1 more gold. Our total is now 4.",
                "Next, we move right to position (2,3) and collect 4 more gold. Our total is now 8.",
                "Finally, we move right to position (2,4) and collect 9 more gold. We've reached the last column with a total of 13 gold!"
            ];
            
            document.getElementById('explanation').textContent = explanationText[currentStep];
        }
        
        // Show the current step in the animation
        function showStep() {
            // Reset all cells
            document.querySelectorAll('.cell').forEach(cell => {
                cell.classList.remove('highlight');
            });
            
            // Hide all arrows
            document.querySelectorAll('.arrow').forEach(arrow => {
                arrow.style.opacity = 0;
            });
            
            // Reset total gold
            totalGoldCollected = 0;
            
            // Update the current step
            for (let i = 0; i <= currentStep; i++) {
                if (i === 0) continue; // Skip the introduction step
                
                const { row, col } = optimalPath[i-1];
                const cell = document.getElementById(`cell-${row}-${col}`);
                cell.classList.add('highlight');
                
                totalGoldCollected += goldValues[row][col];
                
                // Show the appropriate arrow for the previous step
                if (i < currentStep && i-1 < optimalPath.length-1) {
                    const currentPos = optimalPath[i-1];
                    const nextPos = optimalPath[i];
                    
                    if (nextPos.row === currentPos.row) {
                        // Moving right
                        document.getElementById(`arrow-right-${currentPos.row}-${currentPos.col}`).style.opacity = 1;
                    } else if (nextPos.row > currentPos.row) {
                        // Moving down-right
                        document.getElementById(`arrow-down-right-${currentPos.row}-${currentPos.col}`).style.opacity = 1;
                    } else {
                        // Moving up-right
                        document.getElementById(`arrow-up-right-${currentPos.row}-${currentPos.col}`).style.opacity = 1;
                    }
                }
            }
            
            // Update the total gold display
            document.getElementById('totalGold').textContent = `Total Gold: ${totalGoldCollected}`;
            
            // Update the explanation
            updateExplanation();
            
            // Update button states
            document.getElementById('prevBtn').disabled = (currentStep === 0);
            document.getElementById('nextBtn').disabled = (currentStep === optimalPath.length);
        }
        
        // Event listeners for the buttons
        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentStep < optimalPath.length) {
                currentStep++;
                showStep();
            }
        });
        
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep();
            }
        });
        
        // Initialize the visualization
        createGrid();
        showStep();
    </script>
</body>
</html>