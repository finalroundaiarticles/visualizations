<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linked List Structure Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #FFFFFF;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #000000;
        }
        
        h1 {
            color: #FF4800;
            text-align: center;
            margin-bottom: 40px;
        }
        
        .container {
            width: 90%;
            max-width: 900px;
            position: relative;
            margin-bottom: 50px;
        }
        
        .node-container {
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            margin-top: 50px;
            position: relative;
            height: 200px;
        }
        
        .node {
            display: flex;
            border: 3px solid #FF4800;
            border-radius: 10px;
            margin: 0 50px;
            transition: all 0.5s ease;
            position: relative;
            background-color: white;
        }
        
        .data {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            border-right: 3px solid #FF4800;
            background-color: #FD9F78;
            color: #000000;
        }
        
        .next {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            position: relative;
        }
        
        .arrow {
            position: absolute;
            top: 30px;
            left: 160px;
            width: 50px;
            height: 2px;
            background-color: #FF4800;
            z-index: 1;
        }
        
        .arrow::after {
            content: '';
            position: absolute;
            right: 0;
            top: -5px;
            width: 0;
            height: 0;
            border-left: 10px solid #FF4800;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
        }
        
        .null {
            margin-left: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            color: #FF4800;
        }
        
        .explanation {
            margin-top: 50px;
            padding: 20px;
            border: 2px solid #FD9F78;
            border-radius: 10px;
            background-color: #FFFFFF;
            width: 100%;
            box-sizing: border-box;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 20px;
        }
        
        button {
            padding: 10px 20px;
            background-color: #FF4800;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #FD9F78;
        }
        
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .pointer {
            position: absolute;
            top: -30px;
            left: 20px;
            font-weight: bold;
            color: #FF4800;
            transition: all 0.5s ease;
            display: none;
        }
        
        .highlight {
            box-shadow: 0 0 15px #FF4800;
        }
        
        .step-counter {
            position: absolute;
            top: 0;
            right: 0;
            background-color: #FF4800;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Linked List Structure Visualization</h1>
    
    <div class="container">
        <div class="step-counter">Step <span id="currentStep">1</span> of <span id="totalSteps">5</span></div>
        
        <div class="node-container" id="nodeContainer">
            <!-- Nodes will be generated by JavaScript -->
        </div>
        
        <div class="explanation" id="explanation">
            <!-- Explanation will be updated by JavaScript -->
        </div>
        
        <div class="controls">
            <button id="prevBtn">Previous</button>
            <button id="nextBtn">Next</button>
        </div>
    </div>
    
    <script>
        // Define the steps and explanations
        const steps = [
            {
                explanation: "A linked list is a linear data structure where each element (node) contains two parts: a data value and a reference (or pointer) to the next node in the sequence. This visualization shows a linked list with 4 nodes.",
                highlight: null
            },
            {
                explanation: "Each node has two parts: a data field (shown in orange) that contains the actual value stored in the node, and a next pointer (the white part) that references the next node in the list.",
                highlight: 0
            },
            {
                explanation: "The next pointer of each node points to the following node in the list, creating a chain-like structure. This allows us to traverse from the beginning (head) to the end of the list by following these pointers.",
                highlight: 1
            },
            {
                explanation: "We continue through the list by following the next pointers. Each node only knows about the next node it points to, not any previous nodes.",
                highlight: 2
            },
            {
                explanation: "The last node's next pointer points to NULL, indicating the end of the linked list. Unlike arrays, linked lists don't require contiguous memory allocation, making insertions and deletions easier at any position.",
                highlight: 3
            }
        ];
        
        // Initialize variables
        let currentStep = 0;
        const totalSteps = steps.length;
        
        // DOM elements
        const nodeContainer = document.getElementById('nodeContainer');
        const explanation = document.getElementById('explanation');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const currentStepEl = document.getElementById('currentStep');
        const totalStepsEl = document.getElementById('totalSteps');
        
        // Create the linked list nodes
        function createLinkedList() {
            const values = [5, 10, 20, 35];
            
            for (let i = 0; i < values.length; i++) {
                const node = document.createElement('div');
                node.className = 'node';
                node.id = `node-${i}`;
                
                const data = document.createElement('div');
                data.className = 'data';
                data.textContent = values[i];
                
                const next = document.createElement('div');
                next.className = 'next';
                next.innerHTML = '&rarr;';
                
                const pointer = document.createElement('div');
                pointer.className = 'pointer';
                pointer.textContent = i === 0 ? 'head' : '';
                
                node.appendChild(data);
                node.appendChild(next);
                node.appendChild(pointer);
                
                nodeContainer.appendChild(node);
                
                // Add arrow if not the last node
                if (i < values.length - 1) {
                    const arrow = document.createElement('div');
                    arrow.className = 'arrow';
                    nodeContainer.appendChild(arrow);
                }
            }
            
            // Add NULL at the end
            const nullElement = document.createElement('div');
            nullElement.className = 'null';
            nullElement.textContent = 'NULL';
            nodeContainer.appendChild(nullElement);
        }
        
        // Update the display based on current step
        function updateDisplay() {
            // Update step counter
            currentStepEl.textContent = currentStep + 1;
            totalStepsEl.textContent = totalSteps;
            
            // Update explanation
            explanation.textContent = steps[currentStep].explanation;
            
            // Reset all highlights
            document.querySelectorAll('.node').forEach(node => {
                node.classList.remove('highlight');
            });
            
            // Add highlight if specified
            if (steps[currentStep].highlight !== null) {
                const nodeToHighlight = document.getElementById(`node-${steps[currentStep].highlight}`);
                if (nodeToHighlight) {
                    nodeToHighlight.classList.add('highlight');
                }
            }
            
            // Update button states
            prevBtn.disabled = currentStep === 0;
            nextBtn.disabled = currentStep === totalSteps - 1;
        }
        
        // Event listeners for buttons
        prevBtn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                updateDisplay();
            }
        });
        
        nextBtn.addEventListener('click', () => {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                updateDisplay();
            }
        });
        
        // Initialize the visualization
        function init() {
            createLinkedList();
            updateDisplay();
        }
        
        // Start the visualization when the page loads
        window.onload = init;
    </script>
</body>
</html>